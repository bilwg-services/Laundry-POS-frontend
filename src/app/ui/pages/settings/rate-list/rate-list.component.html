<div class="p-4">
    <div class="flex flex-col md:flex-row justify-between items-center mb-4">
        <div class="flex space-x-2">
            <div class="relative flex justify-center">
                <input type="text" placeholder="Search..."
                    class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200 rounded-lg border boorder-gray-100  dark:border-indigo-600 pl-10 pr-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-600" (input)="onSearchInput($event)" />
                <span class="absolute left-3 top-2.5 text-gray-500">üîç</span>
            </div>
        </div>
        <div>
          
            <button (click)="addService()"  class="bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700">Add Service</button>

        </div>
      </div>

    <div class="flex flex-col md:flex-row justify-between items-center mb-4">
      <div class="flex space-x-2">
        <select class="p-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 py-2 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500" [(ngModel)]="selectedCategory" (change)="filterServices()">
          <option value="">All Categories</option>
          <option *ngFor="let category of categories" [value]="category">{{ category }}</option>
        </select>
        <select class="p-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 py-2 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500" [(ngModel)]="selectedSubCategory" (change)="filterServices()">
          <option value="">All Subcategories</option>
          <option *ngFor="let subCategory of subCategories" [value]="subCategory">{{ subCategory }}</option>
        </select>
        <select class="p-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 py-2 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500" [(ngModel)]="selectedGroup" (change)="filterServices()">
          <option value="">All Groups</option>
          <option *ngFor="let group of groups" [value]="group">{{ group }}</option>
        </select>
      </div>
      <div>
         <select class="p-2 bg-transparent border border-indigo-600 text-indigo-600 py-2 px-4 rounded " (change)="filterServices()" [(ngModel)]="selectedPriceListId">
                <option *ngFor="let priceList of priceLists" [value]="priceList">{{ priceList }}</option>
            </select>
      </div>
    </div>
  
    <div class="overflow-x-auto">
        <table class="min-w-full bg-white dark:bg-gray-800">
      <thead>
        <tr>
          <th class="py-2 px-4 border-b">Name</th>
          <th class="py-2 px-4 border-b">Price</th>
          <th class="py-2 px-4 border-b">Price Type</th>
          <th class="py-2 px-4 border-b">Tax</th>
          <th class="py-2 px-4 border-b">Category</th>
          <th class="py-2 px-4 border-b">Subcategory</th>
          <th class="py-2 px-4 border-b">Group</th>
          <th class="py-2 px-4 border-b">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let service of filteredServices">
          <td class="py-2 px-4 border-b">
            <input type="text" [(ngModel)]="service.name" class="w-full p-2 border rounded dark:border-gray-700 dark:bg-gray-900">
          </td>
          <td class="py-2 px-4 border-b">
            <input type="number" [(ngModel)]="service.price" class="w-full p-2 border rounded dark:border-gray-700 dark:bg-gray-900">
          </td>
          <td class="py-2 px-4 border-b">{{ service.price_type == "item" ? "Per Item" : service.price_type == "weight" ? "Per KG" : "Per Sqft"  }}</td>
          <td class="py-2 px-4 border-b">CGST: {{ service.cgst }}% SGST: {{service.sgst }}% </td>
          <td class="py-2 px-4 border-b">{{ service.category }}</td>
          <td class="py-2 px-4 border-b">{{ service.sub_category }}</td>
          <td class="py-2 px-4 border-b">{{ service.group_name }}</td>
          <td class="py-2 px-4 border-b">
            <button class="p-2 bg-indigo-600 text-white rounded" (click)="editService(service)">Edit</button>
          </td>
        </tr>
      </tbody>
    </table>
    </div>
  </div>